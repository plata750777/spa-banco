// Import Firebase
import firebase from "firebase/app"
import "firebase/firestore"
import "firebase/auth"

// Firebase Configuration
const firebaseConfig = {
  apiKey: "TU_API_KEY",
  authDomain: "TU_AUTH_DOMAIN",
  projectId: "TU_PROJECT_ID",
  storageBucket: "TU_STORAGE_BUCKET",
  messagingSenderId: "TU_MESSAGING_SENDER_ID",
  appId: "TU_APP_ID",
}

// Initialize Firebase
const app = firebase.initializeApp(firebaseConfig)
const db = app.firestore()
const auth = app.auth()

// Login Form Handler
document.getElementById("loginForm").addEventListener("submit", async (e) => {
  e.preventDefault()

  const username = document.getElementById("loginUsername").value
  const password = document.getElementById("loginPassword").value

  try {
    // Aquí implementas la lógica de autenticación con Firebase
    console.log("[v0] Intentando login con:", username)

    // Ejemplo de autenticación con Firebase Auth
    // const userCredential = await auth.signInWithEmailAndPassword(username, password);
    // console.log('[v0] Usuario autenticado:', userCredential.user);

    alert("Funcionalidad de login - Conecta con Firebase Auth")

    // Redirigir al dashboard después del login exitoso
    // window.location.href = 'dashboard.html';
  } catch (error) {
    console.error("[v0] Error en login:", error)
    alert("Error al iniciar sesión. Verifica tus credenciales.")
  }
})

// Register Button Handler
document.getElementById("registerBtn").addEventListener("click", () => {
  console.log("[v0] Navegando a registro")
  alert("Redirigiendo a página de registro - Puedes crear register.html")
  // window.location.href = 'register.html';
})

// Optional: Check if user is already logged in
auth.onAuthStateChanged((user) => {
  if (user) {
    console.log("[v0] Usuario ya autenticado:", user.email)
    // Opcional: redirigir automáticamente al dashboard
    // window.location.href = 'dashboard.html';
  } else {
    console.log("[v0] No hay usuario autenticado")
  }
})
